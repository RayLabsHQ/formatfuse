---
import ColorConversionPage from '@/components/seo/ColorConversionPage.astro';
import {
  colorFormatMeta,
  type ColorFormatMeta,
  type SupportedFormat,
} from '@/data/colorModifiers';

interface PageProps {
  fromFormat: ColorFormatMeta;
  toFormat: ColorFormatMeta;
  fromKey: SupportedFormat;
  toKey: SupportedFormat;
}

export const prerender = true;

export async function getStaticPaths() {
  const paths: Array<{
    params: { from: string; to: string };
    props: PageProps;
  }> = [];

  for (const from of colorFormatMeta) {
    for (const to of colorFormatMeta) {
      if (from.key === to.key) continue;
      paths.push({
        params: { from: from.key, to: to.key },
        props: {
          fromFormat: from,
          toFormat: to,
          fromKey: from.key,
          toKey: to.key,
        },
      });
    }
  }

  return paths;
}

const { fromFormat, toFormat, fromKey, toKey } = Astro.props as PageProps;
---

<ColorConversionPage
  fromFormat={fromFormat}
  toFormat={toFormat}
  fromKey={fromKey}
  toKey={toKey}
/>
